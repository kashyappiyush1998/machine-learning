import pandas as pd
import numpy as np
df = pd.read_csv('/home/piyush/Documents/datasets/bitcoin/coincheckJPY_1-min_data_2014-10-31_to_2018-06-27.csv')
df1 = df.iloc[::60,:]
time1 = []
for i in df1.Timestamp:
    result = pd.to_datetime(i,unit='s')
    time1.append(str(result))
X = df1.drop(['Weighted_Price','Open','High','Low'],axis=1)
y = df1.Weighted_Price
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression
from sklearn.preprocessing import PolynomialFeatures
poly_reg = PolynomialFeatures(degree=4)
X_poly = poly_reg.fit_transform(X)
X_train,X_test,y_train,y_test = train_test_split(X_poly,y,test_size=0.2,random_state=10)
lr = LinearRegression()
lr.fit(X_train,y_train)
lr.score(X_test,y_test)
